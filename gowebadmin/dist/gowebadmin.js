var C={"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,"===":(t,e)=>t===e,"!==":(t,e)=>t!==e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"**":(t,e)=>t**e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"&":(t,e)=>t&e,in:(t,e)=>t in e,instanceof:(t,e)=>t instanceof e},j={"=":(t,e,s)=>{t[e]=s},"+=":(t,e,s)=>{t[e]+=s},"-=":(t,e,s)=>{t[e]-=s},"*=":(t,e,s)=>{t[e]*=s},"/=":(t,e,s)=>{t[e]/=s},"%=":(t,e,s)=>{t[e]%=s},"**=":(t,e,s)=>{t[e]**=s},"&&=":(t,e,s)=>{t[e]&&=s},"??=":(t,e,s)=>{t[e]??=s},"||=":(t,e,s)=>{t[e]||=s},">>=":(t,e,s)=>{t[e]>>=s},">>>=":(t,e,s)=>{t[e]>>>=s},"<<=":(t,e,s)=>{t[e]<<=s},"&=":(t,e,s)=>{t[e]&=s},"|=":(t,e,s)=>{t[e]|=s},"^=":(t,e,s)=>{t[e]^=s}},T={"||":(t,e)=>t||e,"&&":(t,e)=>t&&e,"??":(t,e)=>t??e},O={"-":t=>-t,"+":t=>+t,"!":t=>!t,"~":t=>~t,typeof:t=>typeof t,void:t=>{},throw:t=>{throw t}},V=(t,e)=>{if(t==="++")return(s,n)=>e?++s[n]:s[n]++;if(t==="--")return(s,n)=>e?--s[n]:s[n]--},x=(t,e)=>{let s=o(t.callee,e);if(t.callee.type==="OptionalMemberExpression"&&s==null)return;let n=[];t.arguments.map(a=>{a.type==="SpreadElement"?n.push(...o(a,e)):n.push(o(a,e))});let r=L(e);return s.apply(r,n)},M={NumericLiteral:(t,e)=>t.value,StringLiteral:(t,e)=>t.value,BooleanLiteral:(t,e)=>t.value,NullLiteral:(t,e)=>null,RegExpLiteral:(t,e)=>new RegExp(t.pattern,t.flags),ExpressionStatement:(t,e)=>o(t.expression,e),BinaryExpression:(t,e)=>C[t.operator](o(t.left,e),o(t.right,e)),AssignmentExpression:(t,e)=>{let s,n;if(t.left.type==="MemberExpression"||t.left.type==="OptionalMemberExpression")s=o(t.left.object,e),n=t.left.computed?o(t.left.property,e):t.left.property.name;else if(t.left.type==="Identifier")s=S(t.left,e),n=t.left.name;else throw new Error("Unsupported assignment left-hand side");j[t.operator](s,n,o(t.right,e))},LogicalExpression:(t,e)=>T[t.operator](o(t.left,e),o(t.right,e)),UnaryExpression:(t,e)=>O[t.operator](o(t.argument,e)),UpdateExpression:(t,e)=>{let s,n;if(t.argument.type==="MemberExpression"||t.argument.type==="OptionalMemberExpression")s=o(t.argument.object,e),n=t.argument.computed?o(t.argument.property,e):t.argument.property.name;else if(t.argument.type==="Identifier")s=S(t.argument,e),n=t.argument.name;else throw new Error("Unsupported update left-hand side");return V(t.operator,t.prefix)(s,n)},ConditionalExpression:(t,e)=>{let s=o(t.test,e),n=o(t.consequent,e),r=o(t.alternate,e);return s?n:r},MemberExpression:(t,e)=>{let s=o(t.object,e),n=t.computed?s[o(t.property,e)]:s[t.property.name];return typeof n=="function"?n.bind(s):n},OptionalMemberExpression:(t,e)=>{let s=o(t.object,e);if(s==null)return;let n=t.computed?s[o(t.property,e)]:s[t.property.name];return typeof n=="function"?n.bind(s):n},ArrayExpression:(t,e)=>{let s=[];return t.elements.map(n=>{n.type==="SpreadElement"?s.push(...o(n,e)):s.push(o(n,e))}),s},ObjectExpression:(t,e)=>t.properties.reduce((s,n)=>({...s,...o(n,e)}),{}),ObjectProperty:(t,e)=>({[o(t.key,e)]:o(t.value,e)}),SpreadElement:(t,e)=>o(t.argument,e),Identifier:(t,e)=>{if(Array.isArray(e)){let s=e.find(n=>t.name in n);return s?s[t.name]:void 0}else if(typeof e=="object")return e[t.name]},ThisExpression:(t,e)=>L(e),CallExpression:(t,e)=>x(t,e),OptionalCallExpression:(t,e)=>x(t,e),NewExpression:(t,e)=>x(t,e),Directive:(t,e)=>o(t.value,e),DirectiveLiteral:(t,e)=>t.value},L=t=>{if(Array.isArray(t)){let e=t.find(s=>"this"in s);return e?e.this:void 0}else if(typeof t=="object")return t.this},S=(t,e)=>{if(Array.isArray(e)){if(e.length===0)return null;let s=e.filter(n=>!("$event"in n&&"$node"in n||"this"in n));return e.find(n=>t.name in n)??s[0]}else if(typeof e=="object")return e},o=(t,e)=>M[t.type](t,e),m=(t,e={},s={})=>{try{return t.map(n=>o(n,e))}catch(n){throw{error:n.message,location:s,ast:t,context:e}}};var b=class{constructor(e,s){this.eventName=e,this.data=s}},v=class t{static key=0;constructor(e,s){this.eventName=e,this.callback=s,this.key=++t.key}},d=class{constructor(){this.listeners={}}addEventListener(e,s){let n=new v(e,s);this.listeners[n.eventName]=this.listeners[n.eventName]||{};let r=this.listeners[n.eventName];return r[n.key]=n,n}removeEventListener(e){this.listeners[e.eventName]&&delete this.listeners[e.eventName][e.key]}dispatchEvent(e,s=null){this.listeners[e]&&Object.values(this.listeners[e]).forEach(n=>{setTimeout(()=>{n.callback.call(void 0,new b(e,s))})})}};globalThis.leanweb=globalThis.leanweb??{componentsListeningOnUrlChanges:[],eventBus:new d,updateComponents(...t){t?.length?t.forEach(e=>{leanweb.eventBus.dispatchEvent(e)}):leanweb.eventBus.dispatchEvent("update")},set urlHash(t){location.hash=t},get urlHash(){return location.hash},set urlHashPath(t){let e=this.urlHash.split("?");e.length===1?this.urlHash=t:e.length>1&&(this.urlHash=t+"?"+e[1])},get urlHashPath(){return this.urlHash.split("?")[0]},set urlHashParams(t){if(!t)return;let e=[];Object.keys(t).forEach(s=>{let n=t[s];Array.isArray(n)?n.forEach(r=>{e.push(s+"="+encodeURIComponent(r))}):e.push(s+"="+encodeURIComponent(n))}),this.urlHash=this.urlHashPath+"?"+e.join("&")},get urlHashParams(){let t={},e=this.urlHash.split("?");return e.length>1&&new URLSearchParams(e[1]).forEach((n,r)=>{t[r]===void 0?t[r]=n:Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]}),t}};globalThis.addEventListener("hashchange",()=>{leanweb.componentsListeningOnUrlChanges.forEach(t=>{setTimeout(()=>{t?.urlHashChanged?.call(t),t?.update?.call(t)})})},!1);var I=(t,e)=>{let s=Object.getOwnPropertyDescriptor(t,e);return!!s&&typeof s.value=="function"},H=(t,e)=>{let s=[];for(;t=t.nextSibling;)t.nodeType===Node.ELEMENT_NODE&&(!e||t.matches(e))&&s.push(t);return s},f=class extends HTMLElement{constructor(e){super(),this.ast=e,leanweb.runtimeVersion=e.runtimeVersion,leanweb.builderVersion=e.builderVersion;let s=document.createElement("template");s.innerHTML=`<style>${e.css}</style>${e.html}`,this.attachShadow({mode:"open"}).appendChild(s.content),this._bindMethods(),setTimeout(()=>{let n=this.domReady?.call(this);n&&typeof n.then=="function"?n.then(()=>this.update()):this.update()}),this.urlHashChanged&&typeof this.urlHashChanged=="function"&&leanweb.componentsListeningOnUrlChanges.push(this),leanweb.eventBus.addEventListener("update",n=>{this.update()}),leanweb.eventBus.addEventListener(e.componentFullName,n=>{this.update()})}_getNodeContext(e){return e.closest("[lw-context]")?.["lw-context"]??[{this:this},this,globalThis]}update(e=this.shadowRoot){e!==this.shadowRoot&&e.hasAttribute("lw-elem")&&(e.hasAttribute("lw-elem-bind")&&(this._bindModels(e),this._bindEvents(e),this._bindInputs(e)),e.hasAttribute("lw-if")&&this.updateIf(e),e.hasAttribute("lw-false")||(this.updateEval(e),this.updateClass(e),this.updateBind(e),this.updateModel(e),e.hasAttribute("lw-for")&&this.updateFor(e)));let s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{if(n.hasAttribute("lw-elem")){if(n.hasAttribute("lw-for"))return this.updateFor(n),NodeFilter.FILTER_REJECT;if(n.hasAttribute("lw-for-parent")||(n.hasAttribute("lw-elem-bind")&&(this._bindModels(n),this._bindEvents(n),this._bindInputs(n)),n.hasAttribute("lw-if")&&this.updateIf(n),n.hasAttribute("lw-false")))return NodeFilter.FILTER_REJECT;this.updateEval(n),this.updateClass(n),this.updateBind(n),this.updateModel(n)}return NodeFilter.FILTER_ACCEPT}});for(;s.nextNode(););}_bindMethods(){let e=["update"],s=Object.getPrototypeOf(this);e.push(...Object.getOwnPropertyNames(s).filter(n=>I(s,n))),e.push(...Object.getOwnPropertyNames(this).filter(n=>I(this,n))),e.filter(n=>n!=="constructor").forEach(n=>{this[n]=this[n].bind(this)})}_bindInputs(e){if(!e.lw_input_bound){e.lw_input_bound=!0;for(let s of e.attributes){let n=s.name,r=s.value;if(n.startsWith("lw-input:")){let a=this.ast[r],i=this._getNodeContext(e),l=m(a.ast,i,a.loc);e[a.lwValue]=l[0]}}e?.inputReady?.call(this),e?.update?.call(this)}}_bindEvents(e){if(e.lw_event_bound)return;e.lw_event_bound=!0;let s=this;for(let n of e.attributes){let r=n.name,a=n.value;if(r.startsWith("lw-on:")){let i=this.ast[a];i.lwValue.split(",").forEach(l=>{e.addEventListener(l.trim(),(p=>{let u=this._getNodeContext(e),c={$event:p,$node:e},y=m(i.ast,[c,...u],i.loc),E=y.filter(w=>typeof w?.then=="function"&&typeof w?.finally=="function");y.length>E.length&&s.update(),E.forEach(w=>{w?.finally(()=>{s.update()})})}).bind(s))})}}}_bindModels(e){let s=e.getAttribute("lw-model");if(!s||e.lw_model_bound)return;e.lw_model_bound=!0;let n=this.ast[s];e.addEventListener("input",(r=>{let a=this._getNodeContext(e),i=n.ast[0].expression,l,p;if(i.type==="MemberExpression"?(p=i.computed?m([i.property],a,n.loc)[0]:i.property.name,l=m([i.object],a,n.loc)[0]):i.type==="Identifier"&&(l=this,p=i.name),e.type==="number"||e.type==="range")e.do_not_update=!0,l[p]=e.value*1;else if(e.type==="checkbox")if(Array.isArray(l[p]))if(e.checked)l[p].includes(e.value)||l[p].push(e.value);else{let u=l[p].indexOf(e.value);u>-1&&l[p].splice(u,1)}else l[p]=e.checked;else if(e.type==="select-multiple"){Array.isArray(l[p])||(l[p]=[]),l[p].length=0;for(let u=0;u<e.options.length;++u){let c=e.options[u];c.selected&&l[p].push(c.value)}}else l[p]=e.value;this.update(),delete e.do_not_update}).bind(this))}updateModel(e){if(e.do_not_update&&e.type==="number")return;let s=e.getAttribute("lw-model");if(!s)return;let n=this._getNodeContext(e),r=this.ast[s],a=m(r.ast,n,r.loc);if(e.type==="checkbox")Array.isArray(a[0])?e.checked=a[0].includes?.(e.value):e.checked=!!a[0];else if(e.type==="radio")e.checked=a[0]===e.value;else if(e.type==="select-multiple"){for(let i=0;i<e.options.length;++i)e.options[i].selected=!1;if(a[0])for(let i=0;i<e.options.length;++i){let l=e.options[i];l.selected=a[0].includes(l.value)}}else{let i=a[0]??"";e.value!==i&&(e.value=i)}}updateEval(e){let s=e.getAttribute("lw");if(!s)return;let n=this._getNodeContext(e),r=this.ast[s],a=m(r.ast,n,r.loc);(e["lw-eval-value-"+s]!==a[0]||typeof a[0]=="object")&&(e["lw-eval-value-"+s]=a[0],e.innerText=a[0]??"")}updateIf(e){let s=e.getAttribute("lw-if");if(!s)return;let n=this._getNodeContext(e),r=this.ast[s],a=m(r.ast,n,r.loc),i=e.hasAttribute("lw-false");a[0]!==!1&&a[0]!==void 0&&a[0]!==null?(i&&e.removeAttribute("lw-false"),setTimeout(()=>{e.turnedOn?.call(e)})):(!i&&e.setAttribute("lw-false",""),setTimeout(()=>{e.turnedOff?.call(e)}))}updateClass(e){let s=this._getNodeContext(e);for(let n of e.attributes){let r=n.name,a=n.value;if(r.startsWith("lw-class:")){let i=this.ast[a];m(i.ast,s,i.loc)[0]?e.classList.add(i.lwValue):e.classList.remove(i.lwValue)}}}updateBind(e){let s=this._getNodeContext(e);for(let n of e.attributes){let r=n.name,a=n.value;if(r.startsWith("lw-bind:")){let i=this.ast[a],l=m(i.ast,s,i.loc);if(i.lwValue==="class"){let p=l[0],u=e.getAttribute("lw-init-class")||"";u&&u.split(" ").forEach(c=>{c&&e.classList.add(c)}),p?e.classList.add(p):p!==void 0&&e.classList.remove(p)}else l[0]!==!1&&l[0]!==void 0&&l[0]!==null?e.setAttribute(i.lwValue,l[0]):e.removeAttribute(i.lwValue)}}}updateFor(e){let s=e.getAttribute("lw-for");if(!s)return;let n=this._getNodeContext(e),r=this.ast[s],a=m(r.astItems,n,r.loc)[0]??[],i=H(e,`[lw-for-parent="${s}"]`);for(let p=a.length;p<i.length;++p)i[p].remove();let l=e;a.forEach((p,u)=>{let c;i.length>u?c=i[u]:(c=e.cloneNode(!0),c.removeAttribute("lw-for"),c.setAttribute("lw-for-parent",s),c.setAttribute("lw-context",""),l.insertAdjacentElement("afterend",c)),p&&typeof p=="object"&&(p.getDom=()=>c),l=c;let y={[r.itemExpr]:p};r.indexExpr&&(y[r.indexExpr]=u),c["lw-context"]=[y,...n],this.update(c)})}};var _={2:{ast:[{type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"!",prefix:!0,argument:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:"leanweb"},computed:!1,property:{type:"Identifier",name:"urlHashPath"}},computed:!1,property:{type:"Identifier",name:"startsWith"}},arguments:[{type:"StringLiteral",extra:{rawValue:"#/login",raw:"'#/login'"},value:"#/login"}]}}}],loc:{startLine:1,endLine:1}},5:{astItems:[{type:"ExpressionStatement",expression:{type:"Identifier",name:"servers"}}],loc:{startLine:1,endLine:1},itemExpr:"server",itemsExpr:"servers"},11:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"name"}}}],loc:{startLine:1,endLine:1}},12:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},18:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"listen"}}}],loc:{startLine:1,endLine:1}},19:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},22:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}}}],loc:{startLine:1,endLine:1}},23:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"update"},arguments:[]}},{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},28:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"disabled"}}}],loc:{startLine:1,endLine:1}},29:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},31:{astItems:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"hosts"}}}],loc:{startLine:1,endLine:1},itemExpr:"host",itemsExpr:"server.hosts"},33:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"toggleHostHeader"},arguments:[{type:"Identifier",name:"host"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},34:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"uiActive"}}}],loc:{startLine:1,endLine:1},lwType:"lw-class",lwValue:"active"},36:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"name"}}}],loc:{startLine:1,endLine:1}},44:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"name"}}}],loc:{startLine:1,endLine:1}},45:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},47:{ast:[{type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"http",raw:"'http'"},value:"http"}},operator:"||",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}}}}],loc:{startLine:1,endLine:1}},49:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"type"}}}],loc:{startLine:1,endLine:1}},50:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"update"},arguments:[]}},{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},52:{ast:[{type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"http",raw:"'http'"},value:"http"}},operator:"||",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}},extra:{parenthesized:!0,parenStart:0}},operator:"&&",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"serve_static",raw:"'serve_static'"},value:"serve_static"}}}}],loc:{startLine:1,endLine:1}},57:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"path"}}}],loc:{startLine:1,endLine:1}},58:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},60:{ast:[{type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"http",raw:"'http'"},value:"http"}},operator:"||",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}},extra:{parenthesized:!0,parenStart:0}},operator:"&&",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"301_redirect",raw:"'301_redirect'"},value:"301_redirect"}}}}],loc:{startLine:1,endLine:1}},65:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"redirect_url"}}}],loc:{startLine:1,endLine:1}},66:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},68:{ast:[{type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"http",raw:"'http'"},value:"http"}},operator:"||",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}},extra:{parenthesized:!0,parenStart:0}},operator:"&&",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"reverse_proxy",raw:"'reverse_proxy'"},value:"reverse_proxy"}}}}],loc:{startLine:1,endLine:1}},73:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"forward_urls"}}}],loc:{startLine:1,endLine:1}},74:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},76:{ast:[{type:"ExpressionStatement",expression:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"tcp",raw:"'tcp'"},value:"tcp"}}}],loc:{startLine:1,endLine:1}},81:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"upstream"}}}],loc:{startLine:1,endLine:1}},82:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},84:{ast:[{type:"ExpressionStatement",expression:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}}}],loc:{startLine:1,endLine:1}},89:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"key_path"}}}],loc:{startLine:1,endLine:1}},90:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},92:{ast:[{type:"ExpressionStatement",expression:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}}}],loc:{startLine:1,endLine:1}},97:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"cert_path"}}}],loc:{startLine:1,endLine:1}},98:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},100:{ast:[{type:"ExpressionStatement",expression:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"http",raw:"'http'"},value:"http"}},operator:"||",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"https",raw:"'https'"},value:"https"}},extra:{parenthesized:!0,parenStart:0}},operator:"&&",right:{type:"BinaryExpression",left:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"type"}},operator:"===",right:{type:"StringLiteral",extra:{rawValue:"serve_static",raw:"'serve_static'"},value:"serve_static"}}}}],loc:{startLine:1,endLine:1}},104:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"disable_dir_listing"}}}],loc:{startLine:1,endLine:1}},105:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},110:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"host"},computed:!1,property:{type:"Identifier",name:"disabled"}}}],loc:{startLine:1,endLine:1}},111:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"updateServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"input"},113:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"deleteHost"},arguments:[{type:"Identifier",name:"host"},{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},115:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"openHost"},arguments:[{type:"Identifier",name:"host"},{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},118:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"newHost"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},120:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"applyServer"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},122:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"applyingServer"}}}],loc:{startLine:1,endLine:1},lwType:"lw-class",lwValue:"loading"},123:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"deleteServer"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},125:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"toggleServerJSON"},arguments:[{type:"Identifier",name:"server"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},128:{ast:[{type:"ExpressionStatement",expression:{type:"MemberExpression",object:{type:"Identifier",name:"server"},computed:!1,property:{type:"Identifier",name:"showConfigEditor"}}}],loc:{startLine:1,endLine:1}},131:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"newServer"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},133:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"applyServers"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},135:{ast:[{type:"ExpressionStatement",expression:{type:"Identifier",name:"applyingServers"}}],loc:{startLine:1,endLine:1},lwType:"lw-class",lwValue:"loading"},136:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"saveServers"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},138:{ast:[{type:"ExpressionStatement",expression:{type:"Identifier",name:"savingServers"}}],loc:{startLine:1,endLine:1},lwType:"lw-class",lwValue:"loading"},139:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"toggleServersJSON"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},141:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"logout"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},144:{ast:[{type:"ExpressionStatement",expression:{type:"Identifier",name:"showConfigEditor"}}],loc:{startLine:1,endLine:1}},147:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:{type:"MemberExpression",object:{type:"Identifier",name:"leanweb"},computed:!1,property:{type:"Identifier",name:"urlHashPath"}},computed:!1,property:{type:"Identifier",name:"startsWith"}},arguments:[{type:"StringLiteral",extra:{rawValue:"#/login",raw:"'#/login'"},value:"#/login"}]}}],loc:{startLine:1,endLine:1}},152:{ast:[{type:"ExpressionStatement",expression:{type:"Identifier",name:"loginToken"}}],loc:{startLine:1,endLine:1}},153:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"loginByEnter"},arguments:[{type:"Identifier",name:"$event"}]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"keyup"},155:{ast:[{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"Identifier",name:"login"},arguments:[]}}],loc:{startLine:1,endLine:1},lwType:"lw-on",lwValue:"click"},html:'<div class="server-container" lw-if="2" lw-elem=""><div class="servers"><div class="server-block ppwui card" lw-for="5" lw-elem=""><div class="input-set"><span class="input-label">Server Name:</span> <input type="text" class="ppwui input small" placeholder="Server Name" lw-model="11" lw-on:input="12" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set"><div class="input-label">Listen on:</div><input type="text" class="ppwui input small" placeholder="[::]:1234" lw-model="18" lw-on:input="19" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set"><div class="input-label">Server Type:</div><select lw-model="22" lw-on:input="23" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""><option>https</option><option>http</option><option>tcp</option></select></div><div class="input-set"><div class="input-label">Disabled:</div><input type="checkbox" placeholder="Disabled" lw-model="28" lw-on:input="29" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="host-block ppwui card" lw-for="31" lw-elem=""><div class="host-header" lw-on:click="33" lw-class:active="34" lw-elem-bind="" lw-elem="" lw-elem=""><span class="host-header-label" lw="36" lw-elem=""></span></div><div class="host-panel"><div class="host-panel-container"><div class="input-set"><div class="input-label">Host Name:</div><input type="text" class="ppwui input small" placeholder="example.com" lw-model="44" lw-on:input="45" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="47" lw-elem=""><div class="input-label">Host Type:</div><select lw-model="49" lw-on:input="50" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""><option>serve_static</option><option>301_redirect</option><option>reverse_proxy</option></select></div><div class="input-set" lw-if="52" lw-elem=""><div class="input-label">Web Root Path:</div><input type="text" class="ppwui input small" placeholder="/path/to/webroot" lw-model="57" lw-on:input="58" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="60" lw-elem=""><div class="input-label">Redirect URL:</div><input type="text" class="ppwui input small" placeholder="https://example.com" lw-model="65" lw-on:input="66" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="68" lw-elem=""><div class="input-label">Forward URLs:</div><input type="text" class="ppwui input small" placeholder="http://server1 http://server2" lw-model="73" lw-on:input="74" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="76" lw-elem=""><div class="input-label">Upstream:</div><input type="text" class="ppwui input small" placeholder="[::]:1234" lw-model="81" lw-on:input="82" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="84" lw-elem=""><div class="input-label">Key Path:</div><input type="text" class="ppwui input small" placeholder="/path/to/keyfile" lw-model="89" lw-on:input="90" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="92" lw-elem=""><div class="input-label">Cert Path:</div><input type="text" class="ppwui input small" placeholder="/path/to/certfile" lw-model="97" lw-on:input="98" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set" lw-if="100" lw-elem=""><div class="input-label">Disable Listing:</div><input type="checkbox" placeholder="Disable Dir Listing" lw-model="104" lw-on:input="105" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="input-set"><div class="input-label">Disabled:</div><input type="checkbox" placeholder="Disabled" lw-model="110" lw-on:input="111" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""></div><div class="button-block"><button lw-on:click="113" class="ppwui button danger small" lw-elem-bind="" lw-elem="">Delete</button> <button lw-on:click="115" class="ppwui button small" lw-elem-bind="" lw-elem="">Open Host</button></div></div></div></div><div class="button-block"><button lw-on:click="118" class="ppwui button primary small" lw-elem-bind="" lw-elem="">New Host</button> <button lw-on:click="120" class="ppwui button small warning" lw-class:loading="122" lw-elem-bind="" lw-elem="" lw-elem="">Apply</button> <button lw-on:click="123" class="ppwui button danger small" lw-elem-bind="" lw-elem="">Delete</button> <button lw-on:click="125" class="ppwui button small" lw-elem-bind="" lw-elem="">JSON</button></div><div class="ppwui card server-json-panel" lw-if="128" lw-elem=""><div class="server-json"></div></div></div><div class="button-block"><button lw-on:click="131" class="ppwui button primary small" lw-elem-bind="" lw-elem="">New Server</button> <button lw-on:click="133" class="ppwui button small warning" lw-class:loading="135" lw-elem-bind="" lw-elem="" lw-elem="">Apply</button> <button lw-on:click="136" class="ppwui button small warning" lw-class:loading="138" lw-elem-bind="" lw-elem="" lw-elem="">Save</button> <button lw-on:click="139" class="ppwui button small" lw-elem-bind="" lw-elem="">JSON</button> <button lw-on:click="141" class="ppwui button small" lw-elem-bind="" lw-elem="">Logout</button></div><div class="ppwui card servers-json-panel" lw-if="144" lw-elem=""><div class="servers-json"></div></div></div></div><div class="login-container" lw-if="147" lw-elem=""><div class="token-input-set"><input type="text" class="ppwui input" placeholder="Please enter access token" lw-model="152" lw-on:keyup="153" lw-elem-bind="" lw-elem="" lw-elem-bind="" lw-elem=""> <button class="ppwui button primary" lw-on:click="155" lw-elem-bind="" lw-elem="">Login</button></div></div>',css:`@import "global-styles.css";
.server-container {
  display: flex;
  justify-content: center;
  .servers {
    width: 800px;
    padding-bottom: 20px;
    .server-block {
      padding: 1.25rem;
      margin: 25px;
      position: relative;
      .input-set {
        height: 30px;
        display: flex;
        align-items: center;
        .input-label {
          flex: 0 0 120px;
          font-size: 11pt;
        }
        margin-bottom: 10px;
      }
      background-color: var(--white-dark);
      .host-block {
        margin: 5px 0;
        background-color: var(--grey-lightest);
        .host-header {
          padding: 0.8rem 1.25rem;
          cursor: pointer;
          font-weight: 500;
          transition: 0.4s;

          &.active,
          &:hover {
            background-color: var(--grey-lighter);
          }

          &:after {
            content: "+";
            font-size: 13px;
            color: #777;
            float: right;
            margin-left: 5px;
          }

          &.active:after {
            content: "-";
          }
        }
        .host-panel {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
          .host-panel-container {
            padding: 1.25rem;
          }
        }
      }
    }

    .button-block {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
      button {
        width: 100px;
      }
    }
    .server-json-panel {
      margin: 1.25rem 0;
    }
    .servers-json-panel {
      margin: 1.25rem;
    }
  }
}

.login-container {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  .token-input-set {
    display: flex;
    width: 400px;
  }
}

[lw-false],[lw-for]{display:none !important;}
`,componentFullName:"gowebadmin-root",runtimeVersion:"3.0.8",builderVersion:"3.0.8"};var k={apiUrl:""};var g=class{constructor(e,s=!1,n={}){this.baesUrl=e,this.sendToken=s,this.defaultHeaders=n}async _fetch(e,s="",n={},r={}){if(!s.toLowerCase().startsWith("https://")&&!s.toLowerCase().startsWith("http://")&&(s=this.baesUrl+s),e==="GET"&&n&&typeof n=="object"){let i=J(n);n=null,s.endsWith("?")?s+=i:s.indexOf("?")>=0?s+="&"+i:s+="?"+i}if(this.sendToken){let i=sessionStorage.getItem("access_token")??localStorage.getItem("access_token");i&&(r.authorization=i)}let a=await fetch(s,{method:e,headers:{...this.defaultHeaders,...r},body:n?JSON.stringify(n):null});return a.status===401?leanweb?.onAuthFailed():a.status===200&&leanweb.urlHashPath.startsWith("#/login")&&(leanweb.urlHashPath="#/",leanweb.urlHashParams={}),a}post(e,s,n){return this._fetch("POST",e,s,n)}get(e,s,n){return this._fetch("GET",e,s,n)}patch(e,s,n){return this._fetch("PATCH",e,s,n)}delete(e,s,n){return this._fetch("DELETE",e,s,n)}put(e,s,n){return this._fetch("PUT",e,s,n)}options(e,s,n){return this._fetch("OPTIONS",e,s,n)}},J=t=>Object.keys(t).map(e=>{let s=t[e];return Array.isArray(s)?s.reduce((n,r)=>`${n}${e}=${encodeURIComponent(r)}&`,""):`${e}=${encodeURIComponent(s)}&`}).reduce((e,s)=>e+s,"").slice(0,-1),h=new g(k.apiUrl,!0);customElements.define("gowebadmin-root",class extends f{constructor(){super(_),leanweb.onAuthFailed=this.logout,this.setUrlToken()}async domReady(){sessionStorage.getItem("access_token")?await this.loadServers():this.logout()}async loadServers(){let t=await h.get("/api/servers/");t&&(this.servers=await t.json(),this.update())}getNewHost(){return{type:"serve_static",uiActive:!0}}newHost(t){t.hosts??=[];let e=this.getNewHost();t.hosts.push(e),setTimeout(()=>{this.updateServerJSON(t);let s=e.getDom().querySelector(".host-panel");s.style.maxHeight="1000px"})}deleteHost(t,e){let s=e.hosts.findIndex(n=>n===t);e.hosts.splice(s,1),this.updateServerJSON(e)}openHost(t,e){window.open(`${e.type}://${t.name}`,"_blank")}newServer(){this.servers??=[];let t={name:"New Server",type:"https",listen:"[::]:443"};this.servers.push(t),this.newHost(t)}async applyServer(t){t.applyingServer=!0,this.update();let e=this.getServerJSONData(t,!0),s=await h.post("/api/server/",e);if(!s){t.applyingServer=!1;return}let n=await s.json();n.err&&alert(n.err),setTimeout(()=>{t.applyingServer=!1,this.update()},250)}deleteServer(t){let e=this.servers.findIndex(s=>s===t);this.servers.splice(e,1),this.updateServerJSON(t)}updateServerJSON(t){t.configEditor||(t.configEditor=ace.edit(t.getDom().querySelector(".server-json"),{mode:"ace/mode/json",theme:"ace/theme/chrome",maxLines:1/0,showPrintMargin:!1,showGutter:!1,readOnly:!0}),t.configEditor.renderer.attachToShadowRoot()),t.configEditor.setValue(JSON.stringify(this.getServerJSONData(t),null,2),1),this.updateServersJSON()}toggleServerJSON(t){this.updateServerJSON(t),t.showConfigEditor=!t.showConfigEditor}async applyServers(){this.applyingServers=!0,this.update();let t=this.servers.map(n=>this.getServerJSONData(n,!0)),e=await h.patch("/api/servers/",t);if(!e){this.applyingServers=!1;return}let s=await e.json();s.err&&alert(s.err),setTimeout(()=>{this.applyingServers=!1,this.update()},250)}async saveServers(){this.savingServers=!0,this.update();let t=this.servers.map(n=>this.getServerJSONData(n)),e=await h.post("/api/servers/",t);if(!e){this.savingServers=!1,this.update();return}let s=await e.json();s.err&&alert(s.err),setTimeout(()=>{this.savingServers=!1,this.update()},250)}updateServersJSON(){this.configEditor||(this.configEditor=ace.edit(this.shadowRoot.querySelector(".servers-json"),{mode:"ace/mode/json",theme:"ace/theme/chrome",maxLines:1/0,showPrintMargin:!1,showGutter:!1,readOnly:!0}),this.configEditor.renderer.attachToShadowRoot());let t=this.servers.map(e=>this.getServerJSONData(e));this.configEditor.setValue(JSON.stringify(t,null,2),1)}toggleServersJSON(){this.updateServersJSON(),this.showConfigEditor=!this.showConfigEditor}toggleHostHeader(t){let e=t.getDom().querySelector(".host-panel");e.style.maxHeight?(e.style.maxHeight=null,t.uiActive=!1):(e.style.maxHeight="1000px",t.uiActive=!0)}getServerJSONData(t){let e={};return e.name=t.name,e.type=t.type,e.listen=t.listen,e.disabled=t.disabled,e.hosts=t.hosts.map(s=>{let n={};return n.name=s.name,t.type==="http"||t.type==="https"?(n.type=s.type,s.type==="serve_static"?(n.path=s.path,n.disable_dir_listing=s.disable_dir_listing):s.type==="301_redirect"?n.redirect_url=s.redirect_url:s.type==="reverse_proxy"&&(n.forward_urls=s.forward_urls),t.type==="https"&&(n.cert_path=s.cert_path,n.key_path=s.key_path)):t.type==="tcp"&&(n.upstream=s.upstream),n.disabled=s.disabled,n}),e}async loginByEnter(t){t?.key==="Enter"&&await this.login()}async login(){sessionStorage.setItem("access_token",this.loginToken),this.loginToken="",leanweb.urlHashPath="#/",leanweb.urlHashParams={},await this.loadServers()}logout(){sessionStorage.removeItem("access_token"),leanweb.urlHashPath="#/login",leanweb.urlHashParams={},this.update()}async urlHashChanged(){this.setUrlToken()&&await this.loadServers()}setUrlToken(){let t=leanweb.urlHashParams.access_token;if(t)return sessionStorage.setItem("access_token",t),t}});
//# sourceMappingURL=gowebadmin.js.map
